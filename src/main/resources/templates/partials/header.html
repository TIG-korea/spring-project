
<header class="site-header" th:fragment="header">
  <div class="container">

    <!-- ── Logo ── -->
    <a href="/home.html" class="site-logo" aria-label="Q-Box 홈으로 이동">
      <!-- /* THYMELEAF: th:href="@{/}" */ -->
      <span class="logo-icon" aria-hidden="true">Q</span>
      <span>Q-Box</span>
    </a>

    <!-- ── Desktop Navigation ── -->
    <nav class="nav-desktop" aria-label="주요 메뉴">
      <a href="../home.html" class="nav-link active">
        <!-- /* THYMELEAF: th:href="@{/}" th:classappend="${menu == 'home'} ? 'active'" */ -->
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        <span>홈</span>
      </a>
      <a href="/board/question/form" class="nav-link">
        <!-- /* THYMELEAF: th:href="@{/question/form}" th:classappend="${menu == 'form'} ? 'active'" */ -->
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        <span>질문하기</span>
      </a>

      <!-- /* THYMELEAF: 아래 블록은 로그인하지 않은 사용자만 표시 */ -->
      <!-- /* th:if="${#authorization.expression('isAnonymous()')}" or th:unless="${session.user != null}" */ -->
      <a href="../signup.html" class="nav-link">
        <!-- /* THYMELEAF: th:href="@{/signup}" */ -->
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>
        <span>회원가입</span>
      </a>
      <a href="../login.html" class="nav-link">
        <!-- /* THYMELEAF: th:href="@{/login}" */ -->
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
        <span>로그인</span>
      </a>
      <!-- /* /THYMELEAF: 비로그인 블록 끝 */ -->

      <!-- /* THYMELEAF: 아래 블록은 로그인한 사용자만 표시 */ -->
      <!-- /* th:if="${session.user != null}" */ -->
      <!--
      <a href="/logout" class="nav-link">
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
        <span>로그아웃</span>
      </a>
      -->
      <!-- /* THYMELEAF: th:href="@{/logout}" — POST 방식 권장 시 form 으로 교체 */ -->
      <!-- /* /THYMELEAF: 로그인 블록 끝 */ -->
    </nav>

    <!-- ── Header Actions ── -->
    <div class="header-actions">
      <!-- Dark Mode Toggle -->
      <button type="button" class="theme-toggle" aria-label="다크모드 전환">
        <svg class="icon-sun" aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        <svg class="icon-moon" aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
      </button>

      <!-- Mobile Menu Button -->
      <button type="button" class="mobile-menu-btn" aria-expanded="false" aria-controls="mobile-nav" aria-label="메뉴 열기/닫기">
        <svg class="icon-hamburger" aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
        <svg class="icon-close" aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>

  </div>

  <!-- ── Mobile Navigation Panel ── -->
  <nav id="mobile-nav" class="nav-mobile" aria-label="모바일 메뉴">
    <a href="../home.html" class="nav-link active">
      <!-- /* THYMELEAF: th:href="@{/}" */ -->
      <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>홈</span>
    </a>
    <a href="/form.html" class="nav-link">
      <!-- /* THYMELEAF: th:href="@{/question/form}" */ -->
      <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
      <span>질문하기</span>
    </a>

    <!-- /* THYMELEAF: 비로그인 사용자 전용 — th:if 조건 동일 */ -->
    <a href="../signup.html" class="nav-link">
      <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>
      <span>회원가입</span>
    </a>
    <a href="../login.html" class="nav-link">
      <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
      <span>로그인</span>
    </a>
    <!-- /* /THYMELEAF: 비로그인 블록 끝 */ -->

    <!-- /* THYMELEAF: 로그인 사용자 ���용 로그아웃 — 주석 해제 후 사용 */ -->
    <!--
    <a href="/logout" class="nav-link">
      <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
      <span>로그아웃</span>
    </a>
    -->
  </nav>
</header>
